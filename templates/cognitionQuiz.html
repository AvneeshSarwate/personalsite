<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Musical Memory Test</title>
    <script type="text/javascript" src="/static/js/jquery.min.js"></script>
    <script type="text/javascript" src="/static/js/crunker.js"></script>
  </head>
  <body>
    <!-- page content -->
    <div>
        <div id="questionTitle">Question 1</div>

        <div id="targetMelodyInstruction" class="target">Hit play to start listening to the audio file - it will play a single melody 4 times</div>
        <audio id="targetMelody" class="target" controls>
            <source src="/static/cognitionListeningTestFiles/autograde1.mp3" type="audio/mp3">
        </audio>

        <div id="queryMelodyInstruction" class="query">Hit play to start listening to the second audio file - ti will play a single melody once</div>
        <audio id="queryMelody" class="query" controls>
            <source src="/static/cognitionListeningTestFiles/pytest.mp3" type="audio/mp3">
        </audio>

        <form id="questionForm" class="questionForm">
            <p>Please select your preferred contact method:</p>
            <div>
                <input type="radio" id="matchChoice1" name="choice" value="yes">
                <label for="matchChoice1">Yes</label>

                <input type="radio" id="matchChoice2" name="choice" value="no">
                <label for="matchChoice2">No</label>

                <input type="radio" id="matchChoice3" name="choice" value="unsure">
                <label for="matchChoice3">Unsure</label>
            </div>
        </form>
        <div class="questionForm">
            <button id="choiceSubmit">Submit</button>
        </div>

    </div>
    <script type="text/javascript">
        $(".query").hide();
        $(".questionForm").hide();
        $("#targetMelody").on('ended', function(evt){
            $(".target").hide();
            $(".query").show();
        });
        $("#queryMelody").on('ended', function(evt){
            $(".query").hide();
            $(".questionForm").show();
        });
        $("#choiceSubmit").on('click', function(evt){
            // get all the inputs into an array.
            var $inputs = $('#questionForm :input');

            // not sure if you wanted this, but I thought I'd add it.
            // get an associative array of just the values.
            var values = {};
            $inputs.each(function() {
                values[this.name] = $(this).val();
            });
            console.log(values);
        });
    </script>
  </body>
</html>